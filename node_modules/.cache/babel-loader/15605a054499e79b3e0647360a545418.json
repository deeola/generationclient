{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport AuthContext from \"../context/auth/authContext\";\nimport AlertContext from \"../context/alert/alertContext\";\nimport ProfileContext from \"../context/profile/profileContext\";\n\nconst useSearch = (callback, Validate) => {\n  _s();\n\n  const history = useNavigate();\n  const authContext = useContext(AuthContext);\n  const alertContext = useContext(AlertContext);\n  const profileContext = useContext(ProfileContext);\n  const {\n    setAlert\n  } = alertContext;\n  const {\n    login,\n    myerror,\n    clearErrors,\n    isAuthenticated\n  } = authContext;\n  const {\n    filterProfiles,\n    clearFilter,\n    filtered,\n    loading,\n    getAllProfiles,\n    AllProfiles\n  } = profileContext; //GENERAL\n\n  const [error, setError] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false); //SIGN IN\n\n  const [searchValues, setSignValues] = useState({\n    name: \"\",\n    date: \"\"\n  });\n\n  const handleChangeSearch = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setSignValues({ ...searchValues,\n      [name]: value\n    });\n  };\n\n  const users = searchValues; //   useEffect(() => {\n  //     if (isAuthenticated) {\n  //      history(\"/\");\n  //     }\n  //     if (myerror === \"Invalid Credentials\") {\n  //       setAlert(myerror, \"danger\");\n  //       clearErrors();\n  //     }\n  //     // eslint-disable-next-line\n  //   }, [myerror, isAuthenticated, history]);\n  //Search\n  //   useEffect(() => {\n  //     if (filtered === null) {\n  //       users.name = \"\";\n  //       users.date = \"\";\n  //     }\n  //     getAllProfiles();\n  //   },[]);\n\n  const onSubmitSearch = e => {\n    setError(Validate(searchValues));\n\n    if (users.name !== \"\" && users.date !== \"\") {\n      filterProfiles(e.target.value);\n      console.log(e.target.value);\n    } else {\n      clearFilter();\n    }\n\n    e.preventDefault();\n    history('/filtered');\n    setIsSubmitting(true);\n  };\n\n  useEffect(() => {\n    if (Object.keys(error).length === 0 && isSubmitting) {\n      callback(); // history(\"/\");\n    } // eslint-disable-next-line\n\n  }, [error]);\n  return {\n    searchValues,\n    onSubmitSearch,\n    handleChangeSearch,\n    error\n  };\n};\n\n_s(useSearch, \"EXdaZkSZNcxwnBf++q7USnNppso=\", false, function () {\n  return [useNavigate];\n});\n\nexport default useSearch;","map":{"version":3,"sources":["C:/Users/Adeola.bamigboye/Desktop/generation/client/src/components/registration/useSearch.js"],"names":["useEffect","useState","useContext","useNavigate","AuthContext","AlertContext","ProfileContext","useSearch","callback","Validate","history","authContext","alertContext","profileContext","setAlert","login","myerror","clearErrors","isAuthenticated","filterProfiles","clearFilter","filtered","loading","getAllProfiles","AllProfiles","error","setError","isSubmitting","setIsSubmitting","searchValues","setSignValues","name","date","handleChangeSearch","e","value","target","users","onSubmitSearch","console","log","preventDefault","Object","keys","length"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,cAAP,MAA2B,mCAA3B;;AAEA,MAAMC,SAAS,GAAE,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAAA;;AACvC,QAAMC,OAAO,GAAGP,WAAW,EAA3B;AAEA,QAAMQ,WAAW,GAAGT,UAAU,CAACE,WAAD,CAA9B;AACA,QAAMQ,YAAY,GAAGV,UAAU,CAACG,YAAD,CAA/B;AACA,QAAMQ,cAAc,GAAGX,UAAU,CAACI,cAAD,CAAjC;AAEA,QAAM;AAAEQ,IAAAA;AAAF,MAAeF,YAArB;AACA,QAAM;AAAEG,IAAAA,KAAF;AAASC,IAAAA,OAAT;AAAkBC,IAAAA,WAAlB;AAA+BC,IAAAA;AAA/B,MAAmDP,WAAzD;AACA,QAAM;AACJQ,IAAAA,cADI;AAEJC,IAAAA,WAFI;AAGJC,IAAAA,QAHI;AAIJC,IAAAA,OAJI;AAKJC,IAAAA,cALI;AAMJC,IAAAA;AANI,MAOFX,cAPJ,CATuC,CAmBvC;;AAEA,QAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBzB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAAC0B,YAAD,EAAeC,eAAf,IAAkC3B,QAAQ,CAAC,KAAD,CAAhD,CAtBuC,CAwBvC;;AACA,QAAM,CAAC4B,YAAD,EAAeC,aAAf,IAAgC7B,QAAQ,CAAC;AAC7C8B,IAAAA,IAAI,EAAE,EADuC;AAE7CC,IAAAA,IAAI,EAAE;AAFuC,GAAD,CAA9C;;AAKA,QAAMC,kBAAkB,GAAIC,CAAD,IAAO;AAChC,UAAM;AAAEH,MAAAA,IAAF;AAAQI,MAAAA;AAAR,QAAkBD,CAAC,CAACE,MAA1B;AACAN,IAAAA,aAAa,CAAC,EACZ,GAAGD,YADS;AAEZ,OAACE,IAAD,GAAQI;AAFI,KAAD,CAAb;AAID,GAND;;AAQA,QAAME,KAAK,GAAGR,YAAd,CAtCuC,CAwCzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEE;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEE,QAAMS,cAAc,GAAIJ,CAAD,IAAO;AAC5BR,IAAAA,QAAQ,CAACjB,QAAQ,CAACoB,YAAD,CAAT,CAAR;;AACA,QAAIQ,KAAK,CAACN,IAAN,KAAe,EAAf,IAAqBM,KAAK,CAACL,IAAN,KAAe,EAAxC,EAA6C;AACzCb,MAAAA,cAAc,CAACe,CAAC,CAACE,MAAF,CAASD,KAAV,CAAd;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYN,CAAC,CAACE,MAAF,CAASD,KAArB;AACD,KAHH,MAGS;AACLf,MAAAA,WAAW;AACZ;;AACHc,IAAAA,CAAC,CAACO,cAAF;AACA/B,IAAAA,OAAO,CAAC,WAAD,CAAP;AACAkB,IAAAA,eAAe,CAAC,IAAD,CAAf;AACD,GAXD;;AAaA5B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI0C,MAAM,CAACC,IAAP,CAAYlB,KAAZ,EAAmBmB,MAAnB,KAA8B,CAA9B,IAAmCjB,YAAvC,EAAqD;AACnDnB,MAAAA,QAAQ,GAD2C,CAEnD;AACD,KAJa,CAKd;;AACD,GANQ,EAMN,CAACiB,KAAD,CANM,CAAT;AAQA,SAAO;AACLI,IAAAA,YADK;AAELS,IAAAA,cAFK;AAGLL,IAAAA,kBAHK;AAILR,IAAAA;AAJK,GAAP;AAMD,CAzFD;;GAAMlB,S;UACYJ,W;;;AA0FlB,eAAeI,SAAf","sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport AuthContext from \"../context/auth/authContext\";\r\nimport AlertContext from \"../context/alert/alertContext\";\r\nimport ProfileContext from \"../context/profile/profileContext\";\r\n\r\nconst useSearch= (callback, Validate) => {\r\n  const history = useNavigate();\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const alertContext = useContext(AlertContext);\r\n  const profileContext = useContext(ProfileContext);\r\n  \r\n  const { setAlert } = alertContext;\r\n  const { login, myerror, clearErrors, isAuthenticated } = authContext;\r\n  const {\r\n    filterProfiles,\r\n    clearFilter,\r\n    filtered,\r\n    loading,\r\n    getAllProfiles,\r\n    AllProfiles,\r\n  } = profileContext;\r\n\r\n\r\n  //GENERAL\r\n\r\n  const [error, setError] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  //SIGN IN\r\n  const [searchValues, setSignValues] = useState({\r\n    name: \"\",\r\n    date: \"\",\r\n  });\r\n\r\n  const handleChangeSearch = (e) => {\r\n    const { name, value } = e.target;\r\n    setSignValues({\r\n      ...searchValues,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const users = searchValues;\r\n\r\n//   useEffect(() => {\r\n//     if (isAuthenticated) {\r\n//      history(\"/\");\r\n//     }\r\n//     if (myerror === \"Invalid Credentials\") {\r\n//       setAlert(myerror, \"danger\");\r\n//       clearErrors();\r\n//     }\r\n\r\n//     // eslint-disable-next-line\r\n//   }, [myerror, isAuthenticated, history]);\r\n\r\n  //Search\r\n\r\n//   useEffect(() => {\r\n//     if (filtered === null) {\r\n//       users.name = \"\";\r\n//       users.date = \"\";\r\n//     }\r\n//     getAllProfiles();\r\n//   },[]);\r\n\r\n  const onSubmitSearch = (e) => {\r\n    setError(Validate(searchValues));\r\n    if (users.name !== \"\" && users.date !== \"\" ) {\r\n        filterProfiles(e.target.value);\r\n        console.log(e.target.value)\r\n      } else {\r\n        clearFilter();\r\n      }\r\n    e.preventDefault();\r\n    history('/filtered')\r\n    setIsSubmitting(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(error).length === 0 && isSubmitting) {\r\n      callback();\r\n      // history(\"/\");\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [error]);\r\n\r\n  return {\r\n    searchValues,\r\n    onSubmitSearch,\r\n    handleChangeSearch,\r\n    error,\r\n  };\r\n};\r\n\r\nexport default useSearch;\r\n\r\n"]},"metadata":{},"sourceType":"module"}