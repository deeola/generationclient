{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport AuthContext from \"../context/auth/authContext\";\nimport AlertContext from \"../context/alert/alertContext\";\nimport ProfileContext from \"../context/profile/profileContext\";\n\nconst useShowcase = (callback, ValidateShowcase) => {\n  _s();\n\n  const history = useNavigate();\n  const authContext = useContext(AuthContext);\n  const alertContext = useContext(AlertContext);\n  const profileContext = useContext(ProfileContext);\n  const {\n    setAlert\n  } = alertContext;\n  const {\n    myerror,\n    clearErrors,\n    isAuthenticated\n  } = authContext;\n  const {\n    addProfile,\n    uploadedFile\n  } = profileContext; //GET UPLOADED FILE\n  //GENERAL\n\n  const [error, setError] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false); //SIGN IN\n\n  const [showcaseValues, setSignValues] = useState({\n    firstname: \"\",\n    lastname: \"\",\n    dateOfBirth: '',\n    dateofDeath: '',\n    profileMessage: '',\n    longMessage: '',\n    imageLink: uploadedFile\n  });\n\n  const handleChangeSign = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setSignValues({ ...showcaseValues,\n      [name]: value\n    });\n    console.log(name, value);\n  };\n\n  const showcase = showcaseValues;\n  useEffect(() => {\n    if (isAuthenticated) {\n      history(\"/create-profile\");\n    }\n\n    if (myerror === \"Invalid Credentials\") {\n      setAlert(myerror, \"danger\");\n      clearErrors();\n    } // eslint-disable-next-line\n\n  }, [myerror, isAuthenticated, history]); //Login\n\n  const onSubmitForm = e => {\n    setError(ValidateShowcase(showcaseValues));\n    addProfile(showcase);\n    e.preventDefault();\n    setIsSubmitting(true);\n  };\n\n  useEffect(() => {\n    if (Object.keys(error).length === 0 && isSubmitting) {\n      callback();\n      history(\"/upload\");\n    } // eslint-disable-next-line\n\n  }, [error]);\n  return {\n    showcaseValues,\n    onSubmitForm,\n    handleChangeSign,\n    error\n  };\n};\n\n_s(useShowcase, \"k1pABqM5IXA/I8WbVA24b5VHXdc=\", false, function () {\n  return [useNavigate];\n});\n\nexport default useShowcase;","map":{"version":3,"sources":["C:/Users/Adeola.bamigboye/Desktop/generation/client/src/components/registration/useShowcase.js"],"names":["useEffect","useState","useContext","useNavigate","AuthContext","AlertContext","ProfileContext","useShowcase","callback","ValidateShowcase","history","authContext","alertContext","profileContext","setAlert","myerror","clearErrors","isAuthenticated","addProfile","uploadedFile","error","setError","isSubmitting","setIsSubmitting","showcaseValues","setSignValues","firstname","lastname","dateOfBirth","dateofDeath","profileMessage","longMessage","imageLink","handleChangeSign","e","name","value","target","console","log","showcase","onSubmitForm","preventDefault","Object","keys","length"],"mappings":"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","sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport AuthContext from \"../context/auth/authContext\";\r\nimport AlertContext from \"../context/alert/alertContext\";\r\nimport ProfileContext from \"../context/profile/profileContext\";\r\n\r\nconst useShowcase= (callback, ValidateShowcase) => {\r\n  const history = useNavigate();\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const alertContext = useContext(AlertContext);\r\n  const profileContext = useContext(ProfileContext);\r\n\r\n  const { setAlert } = alertContext;\r\n  const {  myerror, clearErrors, isAuthenticated } = authContext;\r\n  const {addProfile, uploadedFile} = profileContext\r\n  \r\n  //GET UPLOADED FILE\r\n\r\n  //GENERAL\r\n\r\n  const [error, setError] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  //SIGN IN\r\n  const [showcaseValues, setSignValues] = useState({\r\n    firstname: \"\",\r\n    lastname: \"\",\r\n    dateOfBirth: '',\r\n    dateofDeath:'',\r\n    profileMessage: '',\r\n    longMessage:'',\r\n    imageLink: uploadedFile\r\n\r\n  });\r\n\r\n  const handleChangeSign = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    setSignValues({\r\n      ...showcaseValues,\r\n      [name]: value,\r\n    });\r\n\r\n\r\n\r\n    console.log(name, value)\r\n  };\r\n\r\n  \r\n\r\n  const showcase = showcaseValues;\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n     history(\"/create-profile\");\r\n    }\r\n    if (myerror === \"Invalid Credentials\") {\r\n      setAlert(myerror, \"danger\");\r\n      clearErrors();\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [myerror, isAuthenticated, history]);\r\n\r\n  //Login\r\n\r\n  const onSubmitForm = (e) => {\r\n    setError(ValidateShowcase(showcaseValues));\r\n    addProfile(showcase);\r\n    e.preventDefault();\r\n    \r\n    \r\n    setIsSubmitting(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(error).length === 0 && isSubmitting) {\r\n      callback();\r\n      history(\"/upload\");\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [error]);\r\n\r\n  return {\r\n    showcaseValues,\r\n    onSubmitForm,\r\n    handleChangeSign,\r\n    error,\r\n  };\r\n};\r\n\r\nexport default useShowcase;\r\n"]},"metadata":{},"sourceType":"module"}