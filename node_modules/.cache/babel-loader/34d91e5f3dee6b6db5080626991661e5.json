{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Adeola.bamigboye\\\\Desktop\\\\generation\\\\client\\\\src\\\\components\\\\context\\\\profile\\\\ProfileState.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer, useEffect } from \"react\";\nimport { v4 as uuid } from \"uuid\";\nimport ProfileContext from \"./profileContext\";\nimport profileReducer from \"./profileReducer\";\nimport axios from \"axios\";\nimport { ADD_PROFILE, DELETE_PROFILE, SET_CURRENT, CLEAR_CURRENT, UPDATE_PROFILE, FILTER_PROFILES, CLEAR_FILTER, CONTACT_ERROR, GET_PROFILES, CLEAR_PROFILES } from \"../types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfileState = props => {\n  _s();\n\n  const initialState = {\n    profiles: [],\n    current: null,\n    filtered: null,\n    error: null\n  };\n  const [state, dispatch] = useReducer(profileReducer, initialState); //GET profiles\n\n  const getProfiles = async () => {\n    try {\n      const res = await axios.get('/showcase');\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    } catch (err) {\n      dispatch({\n        type: CONTACT_ERROR,\n        payload: err.response.msg\n      });\n    }\n  }; //Add profile\n\n\n  const addProfile = async profile => {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    try {\n      const res = await axios.post('/showcase', profile, config);\n      dispatch({\n        type: ADD_PROFILE,\n        payload: res.data\n      });\n      console.log(res.data);\n    } catch (err) {\n      dispatch({\n        type: CONTACT_ERROR,\n        payload: err.response.msg\n      });\n    }\n  }; //delete profile\n\n\n  const deleteProfile = id => {\n    dispatch({\n      type: DELETE_PROFILE,\n      payload: id\n    });\n  }; //set current profile\n\n\n  const setCurrent = profile => {\n    dispatch({\n      type: SET_CURRENT,\n      payload: profile\n    });\n  }; //clear current profile\n\n\n  const clearCurrent = () => {\n    dispatch({\n      type: CLEAR_CURRENT\n    });\n  }; //update profile\n\n\n  const updateProfile = profile => {\n    dispatch({\n      type: UPDATE_PROFILE,\n      payload: profile\n    });\n  }; //filter profiles\n\n\n  const filterProfiles = text => {\n    dispatch({\n      type: FILTER_PROFILES,\n      payload: text\n    });\n  }; //clear filter\n\n\n  const clearFilter = () => {\n    dispatch({\n      type: CLEAR_FILTER\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(ProfileContext.Provider, {\n    value: {\n      profiles: state.profiles,\n      current: state.current,\n      filtered: state.filtered,\n      error: state.error,\n      addProfile,\n      deleteProfile,\n      clearCurrent,\n      setCurrent,\n      updateProfile,\n      filterProfiles,\n      clearFilter,\n      getProfiles\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProfileState, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c = ProfileState;\nexport default ProfileState;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileState\");","map":{"version":3,"sources":["C:/Users/Adeola.bamigboye/Desktop/generation/client/src/components/context/profile/ProfileState.js"],"names":["React","useReducer","useEffect","v4","uuid","ProfileContext","profileReducer","axios","ADD_PROFILE","DELETE_PROFILE","SET_CURRENT","CLEAR_CURRENT","UPDATE_PROFILE","FILTER_PROFILES","CLEAR_FILTER","CONTACT_ERROR","GET_PROFILES","CLEAR_PROFILES","ProfileState","props","initialState","profiles","current","filtered","error","state","dispatch","getProfiles","res","get","type","payload","data","err","response","msg","addProfile","profile","config","headers","post","console","log","deleteProfile","id","setCurrent","clearCurrent","updateProfile","filterProfiles","text","clearFilter","children"],"mappings":"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","sourcesContent":["import React, { useReducer, useEffect} from \"react\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport ProfileContext from \"./profileContext\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  ADD_PROFILE,\r\n  DELETE_PROFILE,\r\n  SET_CURRENT,\r\n  CLEAR_CURRENT,\r\n  UPDATE_PROFILE,\r\n  FILTER_PROFILES,\r\n  CLEAR_FILTER,\r\n  CONTACT_ERROR,\r\n  GET_PROFILES,\r\n  CLEAR_PROFILES\r\n} from \"../types\";\r\n\r\nconst ProfileState = (props) => {\r\n  const initialState = {\r\n    profiles: [],\r\n    current: null,\r\n    filtered: null,\r\n    error : null\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(profileReducer, initialState);\r\n\r\n  //GET profiles\r\n  const getProfiles = async () => {\r\n  \r\n\r\n    try{\r\n        const res = await axios.get('/showcase')\r\n        dispatch({ type: GET_PROFILES, payload: res.data});\r\n        \r\n\r\n    } catch(err){\r\n        dispatch({type:CONTACT_ERROR, payload: err.response.msg})\r\n\r\n    }\r\n\r\n  \r\n\r\n};\r\n\r\n\r\n\r\n\r\n  //Add profile\r\n\r\n  const addProfile = async (profile) => {\r\n      const config = {\r\n          headers : {\r\n              'Content-Type' : 'application/json'\r\n          }\r\n      }\r\n\r\n      try{\r\n          const res = await axios.post('/showcase', profile, config)\r\n          dispatch({ type: ADD_PROFILE, payload: res.data});\r\n\r\n          console.log(res.data)\r\n\r\n      } catch(err){\r\n          dispatch({type:CONTACT_ERROR, payload: err.response.msg})\r\n\r\n      }\r\n\r\n    \r\n\r\n  };\r\n\r\n  //delete profile\r\n\r\n  const deleteProfile = (id) => {\r\n    dispatch({ type: DELETE_PROFILE, payload: id });\r\n  };\r\n\r\n  //set current profile\r\n  const setCurrent = (profile) => {\r\n    dispatch({ type: SET_CURRENT, payload: profile });\r\n  };\r\n\r\n  //clear current profile\r\n  const clearCurrent = () => {\r\n    dispatch({ type: CLEAR_CURRENT });\r\n  };\r\n\r\n  //update profile\r\n\r\n  const updateProfile = (profile) => {\r\n    dispatch({ type: UPDATE_PROFILE, payload: profile });\r\n  };\r\n\r\n  //filter profiles\r\n  const filterProfiles = (text) => {\r\n    dispatch({ type: FILTER_PROFILES, payload: text });\r\n  };\r\n\r\n  //clear filter\r\n  const clearFilter = () => {\r\n    dispatch({ type: CLEAR_FILTER });\r\n  };\r\n\r\n  return (\r\n    <ProfileContext.Provider\r\n      value={{\r\n        profiles: state.profiles,\r\n        current: state.current,\r\n        filtered: state.filtered,\r\n        error : state.error,\r\n        addProfile,\r\n        deleteProfile,\r\n        clearCurrent,\r\n        setCurrent,\r\n        updateProfile,\r\n        filterProfiles,\r\n        clearFilter,\r\n        getProfiles\r\n      }}\r\n    >\r\n      {props.children}\r\n    </ProfileContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ProfileState;\r\n"]},"metadata":{},"sourceType":"module"}