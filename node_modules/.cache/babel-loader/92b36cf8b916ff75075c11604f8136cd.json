{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from \"react\";\nimport { useNavigate, useParams } from \"react-router\";\nimport AuthContext from \"../context/auth/authContext\";\nimport AlertContext from \"../context/alert/alertContext\";\nimport ProfileContext from \"../context/profile/profileContext\";\nimport ValidateNote from \"./ValidateNote\";\n\nconst useNote = (callback, Validate) => {\n  _s();\n\n  const history = useNavigate(); //useparams\n\n  const {\n    id\n  } = useParams();\n  console.log(id);\n  const authContext = useContext(AuthContext);\n  const alertContext = useContext(AlertContext);\n  const profileContext = useContext(ProfileContext);\n  const {\n    setAlert\n  } = alertContext;\n  const {\n    myerror,\n    clearErrors,\n    isAuthenticated\n  } = authContext;\n  const {\n    Messages,\n    addNotes\n  } = profileContext; //GENERAL\n\n  const [error, setError] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false); //SIGN IN\n\n  const [noteValues, setNoteValues] = useState({\n    message: \"\",\n    author: \"\"\n  });\n\n  const handleChangeSign = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNoteValues({ ...noteValues,\n      [name]: value\n    });\n  };\n\n  const notes = noteValues; //   useEffect(() => {\n  //     if (isAuthenticated) {\n  //      history(\"/\");\n  //     }\n  //     // eslint-disable-next-line\n  //   }, [isAuthenticated, history]);\n  //Login\n\n  const onSubmitNote = e => {\n    setError(ValidateNote(noteValues));\n    addNotes(notes, id);\n    console.log(notes);\n    e.preventDefault();\n    setIsSubmitting(true);\n  };\n\n  useEffect(() => {\n    if (Object.keys(error).length === 0 && isSubmitting) {\n      callback(); // history(\"/\");\n    } // eslint-disable-next-line\n\n  }, [error]);\n  return {\n    noteValues,\n    onSubmitNote,\n    handleChangeSign,\n    error\n  };\n};\n\n_s(useNote, \"eLuQiUwJUqK1JHa8+V+IN9JMtP4=\", false, function () {\n  return [useNavigate, useParams];\n});\n\nexport default useNote;","map":{"version":3,"sources":["C:/Users/Adeola.bamigboye/Desktop/generation/client/src/components/registration/useNote.js"],"names":["useEffect","useState","useContext","useNavigate","useParams","AuthContext","AlertContext","ProfileContext","ValidateNote","useNote","callback","Validate","history","id","console","log","authContext","alertContext","profileContext","setAlert","myerror","clearErrors","isAuthenticated","Messages","addNotes","error","setError","isSubmitting","setIsSubmitting","noteValues","setNoteValues","message","author","handleChangeSign","e","name","value","target","notes","onSubmitNote","preventDefault","Object","keys","length"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,cAAvC;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,cAAP,MAA2B,mCAA3B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAGA,MAAMC,OAAO,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAAA;;AACtC,QAAMC,OAAO,GAAGT,WAAW,EAA3B,CADsC,CAGtC;;AAEA,QAAM;AAAEU,IAAAA;AAAF,MAAST,SAAS,EAAxB;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AAEA,QAAMG,WAAW,GAAGd,UAAU,CAACG,WAAD,CAA9B;AACA,QAAMY,YAAY,GAAGf,UAAU,CAACI,YAAD,CAA/B;AACA,QAAMY,cAAc,GAAGhB,UAAU,CAACK,cAAD,CAAjC;AAEA,QAAM;AAAEY,IAAAA;AAAF,MAAeF,YAArB;AACA,QAAM;AAAEG,IAAAA,OAAF;AAAWC,IAAAA,WAAX;AAAwBC,IAAAA;AAAxB,MAA4CN,WAAlD;AACA,QAAM;AAAEO,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAyBN,cAA/B,CAdsC,CAgBtC;;AAEA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBzB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAAC0B,YAAD,EAAeC,eAAf,IAAkC3B,QAAQ,CAAC,KAAD,CAAhD,CAnBsC,CAqBtC;;AACA,QAAM,CAAC4B,UAAD,EAAaC,aAAb,IAA8B7B,QAAQ,CAAC;AAC3C8B,IAAAA,OAAO,EAAE,EADkC;AAE3CC,IAAAA,MAAM,EAAE;AAFmC,GAAD,CAA5C;;AAKA,QAAMC,gBAAgB,GAAIC,CAAD,IAAO;AAC9B,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,CAAC,CAACG,MAA1B;AACAP,IAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZ,OAACM,IAAD,GAAQC;AAFI,KAAD,CAAb;AAID,GAND;;AAQA,QAAME,KAAK,GAAGT,UAAd,CAnCsC,CAqCtC;AACA;AACA;AACA;AAEA;AACA;AAEA;;AAEA,QAAMU,YAAY,GAAIL,CAAD,IAAO;AAC1BR,IAAAA,QAAQ,CAAClB,YAAY,CAACqB,UAAD,CAAb,CAAR;AAEEL,IAAAA,QAAQ,CAACc,KAAD,EAAQzB,EAAR,CAAR;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYuB,KAAZ;AAEFJ,IAAAA,CAAC,CAACM,cAAF;AACAZ,IAAAA,eAAe,CAAC,IAAD,CAAf;AACD,GARD;;AAUA5B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIyC,MAAM,CAACC,IAAP,CAAYjB,KAAZ,EAAmBkB,MAAnB,KAA8B,CAA9B,IAAmChB,YAAvC,EAAqD;AACnDjB,MAAAA,QAAQ,GAD2C,CAEnD;AACD,KAJa,CAKd;;AACD,GANQ,EAMN,CAACe,KAAD,CANM,CAAT;AAQA,SAAO;AACLI,IAAAA,UADK;AAELU,IAAAA,YAFK;AAGLN,IAAAA,gBAHK;AAILR,IAAAA;AAJK,GAAP;AAMD,CAvED;;GAAMhB,O;UACYN,W,EAIDC,S;;;AAoEjB,eAAeK,OAAf","sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport AuthContext from \"../context/auth/authContext\";\r\nimport AlertContext from \"../context/alert/alertContext\";\r\nimport ProfileContext from \"../context/profile/profileContext\";\r\nimport ValidateNote from \"./ValidateNote\";\r\n\r\n\r\nconst useNote = (callback, Validate) => {\r\n  const history = useNavigate();\r\n\r\n  //useparams\r\n\r\n  const { id } = useParams();\r\n  console.log(id);\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const alertContext = useContext(AlertContext);\r\n  const profileContext = useContext(ProfileContext);\r\n\r\n  const { setAlert } = alertContext;\r\n  const { myerror, clearErrors, isAuthenticated } = authContext;\r\n  const { Messages, addNotes } = profileContext;\r\n\r\n  //GENERAL\r\n\r\n  const [error, setError] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  //SIGN IN\r\n  const [noteValues, setNoteValues] = useState({\r\n    message: \"\",\r\n    author: \"\",\r\n  });\r\n\r\n  const handleChangeSign = (e) => {\r\n    const { name, value } = e.target;\r\n    setNoteValues({\r\n      ...noteValues,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const notes = noteValues;\r\n\r\n  //   useEffect(() => {\r\n  //     if (isAuthenticated) {\r\n  //      history(\"/\");\r\n  //     }\r\n\r\n  //     // eslint-disable-next-line\r\n  //   }, [isAuthenticated, history]);\r\n\r\n  //Login\r\n\r\n  const onSubmitNote = (e) => {\r\n    setError(ValidateNote(noteValues));\r\n \r\n      addNotes(notes, id);\r\n      console.log(notes)\r\n\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(error).length === 0 && isSubmitting) {\r\n      callback();\r\n      // history(\"/\");\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [error]);\r\n\r\n  return {\r\n    noteValues,\r\n    onSubmitNote,\r\n    handleChangeSign,\r\n    error,\r\n  };\r\n};\r\n\r\nexport default useNote;\r\n"]},"metadata":{},"sourceType":"module"}